<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Care Hotel - Khách sạn thú cưng cao cấp</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --accent-color: #45b7d1;
            --warm-color: #feca57;
            --success-color: #2ed573;
            --warning-color: #ff9ff3;
            --danger-color: #ff4757;
            --dark-color: #2f3542;
            --light-color: #f1f2f6;
            --white: #ffffff;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --shadow-soft: 0 10px 30px rgba(0,0,0,0.1);
            --shadow-medium: 0 15px 35px rgba(0,0,0,0.15);
            --shadow-strong: 0 20px 40px rgba(0,0,0,0.2);
            --border-radius: 15px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .header {
            background: var(--white);
            box-shadow: var(--shadow-soft);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo i {
            margin-right: 0.5rem;
            font-size: 2rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
        }

        .nav-link:hover, .nav-link.active {
            background: var(--gradient-1);
            color: var(--white);
            transform: translateY(-2px);
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--gradient-2);
            color: var(--white);
        }

        .btn-secondary {
            background: var(--gradient-3);
            color: var(--white);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            min-height: calc(100vh - 80px);
        }

        /* Page Specific Styles */
        .page {
            display: none;
            padding: 2rem 0;
        }

        .page.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            background: var(--gradient-1);
            color: var(--white);
            text-align: center;
            padding: 6rem 0;
            margin-bottom: 4rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="paw" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="8" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="6" cy="12" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="14" cy="12" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="8" cy="15" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="12" cy="15" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23paw)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-soft);
            overflow: hidden;
            transition: var(--transition);
            margin-bottom: 2rem;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-strong);
        }

        .card-header {
            background: var(--gradient-1);
            color: var(--white);
            padding: 1.5rem;
            text-align: center;
        }

        .card-body {
            padding: 2rem;
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        /* Grid Layouts */
        .grid {
            display: grid;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        /* Room Cards */
        .room-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
        }

        .room-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-strong);
        }

        .room-image {
            height: 200px;
            background: var(--gradient-3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 3rem;
        }

        .room-info {
            padding: 1.5rem;
        }

        .room-type {
            background: var(--primary-color);
            color: var(--white);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            display: inline-block;
            margin-bottom: 1rem;
            text-transform: uppercase;
            font-weight: 600;
        }

        .room-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .room-price {
            font-size: 1.5rem;
            color: var(--primary-color);
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .room-amenities {
            list-style: none;
            margin-bottom: 1.5rem;
        }

        .room-amenities li {
            padding: 0.3rem 0;
            color: var(--text-light);
        }

        .room-amenities i {
            color: var(--success-color);
            margin-right: 0.5rem;
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-control {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e1e1e1;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        /* User Profile */
        .profile-header {
            background: var(--gradient-2);
            color: var(--white);
            padding: 3rem 0;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-color);
            margin: 0 auto 1rem;
            box-shadow: var(--shadow-medium);
        }

        /* Booking Form */
        .booking-summary {
            background: var(--light-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-top: 2rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #ddd;
        }

        .summary-total {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary-color);
            border-top: 2px solid var(--primary-color);
            padding-top: 1rem;
            margin-top: 1rem;
        }

        /* Status Badges */
        .status {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-checked-in {
            background: #d4edda;
            color: #155724;
        }

        .status-checked-out {
            background: #f8d7da;
            color: #721c24;
        }

        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }

        /* Cat Cards */
        .cat-card {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-soft);
            text-align: center;
            transition: var(--transition);
        }

        .cat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .cat-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--gradient-3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: var(--white);
            margin: 0 auto 1rem;
        }

        /* News Articles */
        .news-card {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .news-image {
            height: 200px;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 3rem;
        }

        .news-content {
            padding: 1.5rem;
        }

        .news-category {
            background: var(--secondary-color);
            color: var(--white);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .news-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .news-excerpt {
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .news-meta {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Admin Dashboard */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--white);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-soft);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-1);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Tables */
        .table-container {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            background: var(--gradient-1);
            color: var(--white);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .table td {
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        .table tbody tr:hover {
            background: var(--light-color);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--border-radius);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            background: var(--gradient-1);
            color: var(--white);
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Alerts */
        .alert {
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            border-left: 4px solid;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border-color: var(--success-color);
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border-color: var(--danger-color);
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border-color: var(--warning-color);
        }

        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border-color: var(--accent-color);
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: var(--white);
            padding: 3rem 0 1rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section a {
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-section a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #555;
            color: var(--text-light);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
            }

            .table-container {
                overflow-x: auto;
            }
        }

        /* Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-up {
            animation: fadeInUp 0.6s ease forwards;
        }

        /* Loading */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.9);
            z-index: 3000;
        }

        .loading.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="#" class="logo" onclick="showPage('home')">
                    <i class="fas fa-paw"></i>
                    Pet Care Hotel
                </a>
                
                <ul class="nav-menu">
                    <li><a href="#" class="nav-link active" onclick="showPage('home')">Trang chủ</a></li>
                    <li><a href="#" class="nav-link" onclick="showPage('rooms')">Phòng</a></li>
                    <li><a href="#" class="nav-link" onclick="showPage('services')">Dịch vụ</a></li>
                    <li><a href="#" class="nav-link" onclick="showPage('news')">Tin tức</a></li>
                    <li><a href="#" class="nav-link" onclick="showPage('contact')">Liên hệ</a></li>
                </ul>

                <div class="nav-actions">
                    <a href="#" class="btn btn-outline" onclick="showPage('login')" id="loginBtn">
                        <i class="fas fa-sign-in-alt"></i>
                        Đăng nhập
                    </a>
                    <a href="#" class="btn btn-primary" onclick="showPage('register')" id="registerBtn">
                        <i class="fas fa-user-plus"></i>
                        Đăng ký
                    </a>
                    <div class="user-menu" id="userMenu" style="display: none;">
                        <span id="userName"></span>
                        <div class="dropdown">
                            <button class="btn btn-secondary" onclick="toggleUserDropdown()">
                                <i class="fas fa-user"></i>
                            </button>
                            <div class="dropdown-menu" id="userDropdown">
                                <a href="#" onclick="showPage('profile')">Hồ sơ</a>
                                <a href="#" onclick="showPage('my-cats')">Thú cưng</a>
                                <a href="#" onclick="showPage('my-bookings')">Đặt phòng</a>
                                <a href="#" onclick="showPage('admin')" id="adminLink" style="display: none;">Quản trị</a>
                                <a href="#" onclick="logout()">Đăng xuất</a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Page -->
        <div id="home" class="page active">
            <section class="hero">
                <div class="container">
                    <div class="hero-content">
                        <h1>🐾 Chào mừng đến Pet Care Hotel 🐾</h1>
                        <p>Nơi thú cưng của bạn được chăm sóc như gia đình. Với dịch vụ 5 sao và không gian thoải mái, chúng tôi mang đến cho bé cưng những trải nghiệm tuyệt vời nhất.</p>
                        <div style="margin-top: 2rem;">
                            <a href="#" class="btn btn-primary" onclick="showPage('rooms')" style="margin-right: 1rem;">
                                <i class="fas fa-search"></i>
                                Khám phá phòng
                            </a>
                            <a href="#" class="btn btn-secondary" onclick="showPage('services')">
                                <i class="fas fa-concierge-bell"></i>
                                Xem dịch vụ
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <div class="container">
                <!-- Featured Rooms -->
                <section style="margin-bottom: 4rem;">
                    <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                        🏨 Phòng nổi bật
                    </h2>
                    <div class="grid grid-3" id="featuredRooms">
                        <!-- Rooms will be loaded here -->
                    </div>
                </section>

                <!-- Services Preview -->
                <section style="margin-bottom: 4rem;">
                    <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                        ⭐ Dịch vụ của chúng tôi
                    </h2>
                    <div class="grid grid-4" id="servicesPreview">
                        <!-- Services will be loaded here -->
                    </div>
                </section>

                <!-- Latest News -->
                <section style="margin-bottom: 4rem;">
                    <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                        📰 Tin tức mới nhất
                    </h2>
                    <div class="grid grid-2" id="latestNews">
                        <!-- News will be loaded here -->
                    </div>
                </section>

                <!-- Reviews -->
                <section>
                    <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                        💬 Đánh giá từ khách hàng
                    </h2>
                    <div class="grid grid-3" id="reviewsSection">
                        <!-- Reviews will be loaded here -->
                    </div>
                </section>
            </div>
        </div>

        <!-- Rooms Page -->
        <div id="rooms" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                    🏨 Danh sách phòng
                </h1>
                
                <!-- Room Filters -->
                <div class="card" style="margin-bottom: 2rem;">
                    <div class="card-body">
                        <h3>Bộ lọc tìm kiếm</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Loại phòng</label>
                                <select class="form-control" id="roomTypeFilter">
                                    <option value="">Tất cả</option>
                                    <option value="standard">Standard</option>
                                    <option value="deluxe">Deluxe</option>
                                    <option value="premium">Premium</option>
                                    <option value="vip">VIP</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Giá tối đa</label>
                                <select class="form-control" id="priceFilter">
                                    <option value="">Không giới hạn</option>
                                    <option value="200000">Dưới 200,000đ</option>
                                    <option value="400000">Dưới 400,000đ</option>
                                    <option value="600000">Dưới 600,000đ</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Ngày nhận phòng</label>
                                <input type="date" class="form-control" id="checkInDate">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ngày trả phòng</label>
                                <input type="date" class="form-control" id="checkOutDate">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="filterRooms()">
                            <i class="fas fa-search"></i>
                            Tìm kiếm
                        </button>
                    </div>
                </div>

                <div class="grid grid-3" id="roomsList">
                    <!-- Rooms will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Room Detail Page -->
        <div id="room-detail" class="page">
            <div class="container">
                <div id="roomDetailContent">
                    <!-- Room detail will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Services Page -->
        <div id="services" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                    ⭐ Dịch vụ của chúng tôi
                </h1>
                
                <div class="grid grid-2" id="servicesList">
                    <!-- Services will be loaded here -->
                </div>
            </div>
        </div>

        <!-- News Page -->
        <div id="news" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                    📰 Tin tức & Blogs
                </h1>
                
                <div class="grid grid-2" id="newsList">
                    <!-- News will be loaded here -->
                </div>
            </div>
        </div>

        <!-- News Detail Page -->
        <div id="news-detail" class="page">
            <div class="container">
                <div id="newsDetailContent">
                    <!-- News detail will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login" class="page">
            <div class="container">
                <div style="max-width: 400px; margin: 4rem auto;">
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-sign-in-alt"></i> Đăng nhập</h2>
                        </div>
                        <div class="card-body">
                            <form id="loginForm">
                                <div class="form-group">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" id="loginEmail" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Mật khẩu</label>
                                    <input type="password" class="form-control" id="loginPassword" required>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">
                                    <i class="fas fa-sign-in-alt"></i>
                                    Đăng nhập
                                </button>
                            </form>
                            <div style="text-align: center; margin-top: 1rem;">
                                <p>Chưa có tài khoản? <a href="#" onclick="showPage('register')">Đăng ký ngay</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Register Page -->
        <div id="register" class="page">
            <div class="container">
                <div style="max-width: 500px; margin: 4rem auto;">
                    <div class="card">
                        <div class="card-header">
                            <h2><i class="fas fa-user-plus"></i> Đăng ký tài khoản</h2>
                        </div>
                        <div class="card-body">
                            <form id="registerForm">
                                <div class="form-group">
                                    <label class="form-label">Tên đăng nhập</label>
                                    <input type="text" class="form-control" id="registerUsername" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" id="registerEmail" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Họ và tên</label>
                                    <input type="text" class="form-control" id="registerFullName" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Số điện thoại</label>
                                    <input type="tel" class="form-control" id="registerPhone">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Địa chỉ</label>
                                    <textarea class="form-control" id="registerAddress" rows="3"></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Mật khẩu</label>
                                    <input type="password" class="form-control" id="registerPassword" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Xác nhận mật khẩu</label>
                                    <input type="password" class="form-control" id="registerConfirmPassword" required>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">
                                    <i class="fas fa-user-plus"></i>
                                    Đăng ký
                                </button>
                            </form>
                            <div style="text-align: center; margin-top: 1rem;">
                                <p>Đã có tài khoản? <a href="#" onclick="showPage('login')">Đăng nhập</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile" class="page">
            <div class="container">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h2 id="profileName">Tên người dùng</h2>
                    <p id="profileEmail">email@example.com</p>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3>Thông tin cá nhân</h3>
                        </div>
                        <div class="card-body">
                            <form id="profileForm">
                                <div class="form-group">
                                    <label class="form-label">Họ và tên</label>
                                    <input type="text" class="form-control" id="profileFullName">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Số điện thoại</label>
                                    <input type="tel" class="form-control" id="profilePhone">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Địa chỉ</label>
                                    <textarea class="form-control" id="profileAddress" rows="3"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i>
                                    Cập nhật
                                </button>
                            </form>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Đổi mật khẩu</h3>
                        </div>
                        <div class="card-body">
                            <form id="changePasswordForm">
                                <div class="form-group">
                                    <label class="form-label">Mật khẩu hiện tại</label>
                                    <input type="password" class="form-control" id="currentPassword" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Mật khẩu mới</label>
                                    <input type="password" class="form-control" id="newPassword" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Xác nhận mật khẩu mới</label>
                                    <input type="password" class="form-control" id="confirmNewPassword" required>
                                </div>
                                <button type="submit" class="btn btn-secondary">
                                    <i class="fas fa-key"></i>
                                    Đổi mật khẩu
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- My Cats Page -->
        <div id="my-cats" class="page">
            <div class="container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem;">
                    <h1>🐱 Thú cưng của tôi</h1>
                    <button class="btn btn-primary" onclick="showAddCatModal()">
                        <i class="fas fa-plus"></i>
                        Thêm thú cưng
                    </button>
                </div>

                <div class="grid grid-3" id="myCatsList">
                    <!-- Cats will be loaded here -->
                </div>
            </div>
        </div>

        <!-- My Bookings Page -->
        <div id="my-bookings" class="page">
            <div class="container">
                <h1 style="margin-bottom: 3rem;">📅 Lịch sử đặt phòng</h1>

                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Mã đặt phòng</th>
                                <th>Thú cưng</th>
                                <th>Phòng</th>
                                <th>Ngày nhận</th>
                                <th>Ngày trả</th>
                                <th>Tổng tiền</th>
                                <th>Trạng thái</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <tbody id="myBookingsList">
                            <!-- Bookings will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Booking Page -->
        <div id="booking" class="page">
            <div class="container">
                <h1 style="margin-bottom: 3rem;">📝 Đặt phòng</h1>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3>Thông tin đặt phòng</h3>
                        </div>
                        <div class="card-body">
                            <form id="bookingForm">
                                <div class="form-group">
                                    <label class="form-label">Chọn thú cưng</label>
                                    <select class="form-control" id="bookingCat" required>
                                        <option value="">Chọn thú cưng</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Phòng đã chọn</label>
                                    <input type="text" class="form-control" id="selectedRoom" readonly>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Ngày nhận phòng</label>
                                        <input type="date" class="form-control" id="bookingCheckIn" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Ngày trả phòng</label>
                                        <input type="date" class="form-control" id="bookingCheckOut" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Dịch vụ thêm</label>
                                    <div id="servicesList">
                                        <!-- Services checkboxes will be loaded here -->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Thức ăn</label>
                                    <div id="foodsList">
                                        <!-- Foods checkboxes will be loaded here -->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Yêu cầu đặc biệt</label>
                                    <textarea class="form-control" id="specialRequests" rows="3" placeholder="Ghi chú thêm về yêu cầu chăm sóc đặc biệt..."></textarea>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Tóm tắt đặt phòng</h3>
                        </div>
                        <div class="card-body">
                            <div class="booking-summary" id="bookingSummary">
                                <div class="summary-row">
                                    <span>Phòng:</span>
                                    <span id="summaryRoom">-</span>
                                </div>
                                <div class="summary-row">
                                    <span>Số ngày:</span>
                                    <span id="summaryDays">0</span>
                                </div>
                                <div class="summary-row">
                                    <span>Giá phòng:</span>
                                    <span id="summaryRoomPrice">0đ</span>
                                </div>
                                <div class="summary-row">
                                    <span>Dịch vụ:</span>
                                    <span id="summaryServices">0đ</span>
                                </div>
                                <div class="summary-row">
                                    <span>Thức ăn:</span>
                                    <span id="summaryFood">0đ</span>
                                </div>
                                <div class="summary-row summary-total">
                                    <span>Tổng cộng:</span>
                                    <span id="summaryTotal">0đ</span>
                                </div>
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 2rem;" onclick="submitBooking()">
                                <i class="fas fa-credit-card"></i>
                                Đặt phòng & Thanh toán
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Page -->
        <div id="contact" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: var(--text-dark);">
                    📞 Liên hệ với chúng tôi
                </h1>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <h3>Thông tin liên hệ</h3>
                        </div>
                        <div class="card-body">
                            <div style="margin-bottom: 2rem;">
                                <h4><i class="fas fa-map-marker-alt" style="color: var(--primary-color);"></i> Địa chỉ</h4>
                                <p>123 Đường Nguyễn Văn Linh, Quận 7, TP.HCM</p>
                            </div>
                            <div style="margin-bottom: 2rem;">
                                <h4><i class="fas fa-phone" style="color: var(--primary-color);"></i> Điện thoại</h4>
                                <p>0123 456 789</p>
                            </div>
                            <div style="margin-bottom: 2rem;">
                                <h4><i class="fas fa-envelope" style="color: var(--primary-color);"></i> Email</h4>
                                <p>info@petcarehotel.com</p>
                            </div>
                            <div style="margin-bottom: 2rem;">
                                <h4><i class="fas fa-clock" style="color: var(--primary-color);"></i> Giờ làm việc</h4>
                                <p>Thứ 2 - Chủ nhật: 7:00 - 22:00</p>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Gửi tin nhắn</h3>
                        </div>
                        <div class="card-body">
                            <form id="contactForm">
                                <div class="form-group">
                                    <label class="form-label">Họ và tên</label>
                                    <input type="text" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Số điện thoại</label>
                                    <input type="tel" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tin nhắn</label>
                                    <textarea class="form-control" rows="5" required></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">
                                    <i class="fas fa-paper-plane"></i>
                                    Gửi tin nhắn
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin" class="page">
            <div class="container">
                <h1 style="margin-bottom: 3rem;">🔧 Quản trị hệ thống</h1>

                <!-- Dashboard Stats -->
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-users"></i></div>
                        <div class="stat-number" id="totalCustomers">0</div>
                        <div class="stat-label">Khách hàng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-paw"></i></div>
                        <div class="stat-number" id="totalCats">0</div>
                        <div class="stat-label">Thú cưng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-bed"></i></div>
                        <div class="stat-number" id="totalRooms">0</div>
                        <div class="stat-label">Phòng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-calendar"></i></div>
                        <div class="stat-number" id="totalBookings">0</div>
                        <div class="stat-label">Đặt phòng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-clock"></i></div>
                        <div class="stat-number" id="pendingBookings">0</div>
                        <div class="stat-label">Chờ xử lý</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-money-bill"></i></div>
                        <div class="stat-number" id="totalRevenue">0đ</div>
                        <div class="stat-label">Doanh thu</div>
                    </div>
                </div>

                <!-- Admin Tabs -->
                <div class="card">
                    <div class="card-header">
                        <div style="display: flex; gap: 1rem;">
                            <button class="btn btn-primary admin-tab active" onclick="showAdminTab('bookings')">Đặt phòng</button>
                            <button class="btn btn-outline admin-tab" onclick="showAdminTab('rooms')">Phòng</button>
                            <button class="btn btn-outline admin-tab" onclick="showAdminTab('services')">Dịch vụ</button>
                            <button class="btn btn-outline admin-tab" onclick="showAdminTab('users')">Người dùng</button>
                            <button class="btn btn-outline admin-tab" onclick="showAdminTab('news')">Tin tức</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <!-- Admin Bookings -->
                        <div id="admin-bookings" class="admin-content active">
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3>Quản lý đặt phòng</h3>
                            </div>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Khách hàng</th>
                                            <th>Thú cưng</th>
                                            <th>Phòng</th>
                                            <th>Ngày</th>
                                            <th>Tổng tiền</th>
                                            <th>Trạng thái</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminBookingsList">
                                        <!-- Admin bookings will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Admin Rooms -->
                        <div id="admin-rooms" class="admin-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <h3>Quản lý phòng</h3>
                                <button class="btn btn-primary" onclick="showAddRoomModal()">
                                    <i class="fas fa-plus"></i>
                                    Thêm phòng
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Tên phòng</th>
                                            <th>Loại</th>
                                            <th>Giá/ngày</th>
                                            <th>Sức chứa</th>
                                            <th>Trạng thái</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminRoomsList">
                                        <!-- Admin rooms will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Admin Services -->
                        <div id="admin-services" class="admin-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <h3>Quản lý dịch vụ</h3>
                                <button class="btn btn-primary" onclick="showAddServiceModal()">
                                    <i class="fas fa-plus"></i>
                                    Thêm dịch vụ
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Tên dịch vụ</th>
                                            <th>Danh mục</th>
                                            <th>Giá</th>
                                            <th>Thời gian</th>
                                            <th>Trạng thái</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminServicesList">
                                        <!-- Admin services will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Admin Users -->
                        <div id="admin-users" class="admin-content">
                            <h3 style="margin-bottom: 2rem;">Quản lý người dùng</h3>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Tên đăng nhập</th>
                                            <th>Họ tên</th>
                                            <th>Email</th>
                                            <th>Vai trò</th>
                                            <th>Trạng thái</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminUsersList">
                                        <!-- Admin users will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Admin News -->
                        <div id="admin-news" class="admin-content">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <h3>Quản lý tin tức</h3>
                                <button class="btn btn-primary" onclick="showAddNewsModal()">
                                    <i class="fas fa-plus"></i>
                                    Thêm tin tức
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Tiêu đề</th>
                                            <th>Danh mục</th>
                                            <th>Tác giả</th>
                                            <th>Trạng thái</th>
                                            <th>Lượt xem</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminNewsList">
                                        <!-- Admin news will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Pet Care Hotel</h3>
                    <p>Khách sạn thú cưng cao cấp với dịch vụ chăm sóc tận tình và chuyên nghiệp. Nơi thú cưng của bạn được yêu thương như gia đình.</p>
                </div>
                <div class="footer-section">
                    <h3>Liên kết nhanh</h3>
                    <ul>
                        <li><a href="#" onclick="showPage('rooms')">Danh sách phòng</a></li>
                        <li><a href="#" onclick="showPage('services')">Dịch vụ</a></li>
                        <li><a href="#" onclick="showPage('news')">Tin tức</a></li>
                        <li><a href="#" onclick="showPage('contact')">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Liên hệ</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Đường Nguyễn Văn Linh, Quận 7, TP.HCM</li>
                        <li><i class="fas fa-phone"></i> 0123 456 789</li>
                        <li><i class="fas fa-envelope"></i> info@petcarehotel.com</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Theo dõi chúng tôi</h3>
                    <ul>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                        <li><a href="#"><i class="fab fa-tiktok"></i> TikTok</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Pet Care Hotel. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Add Cat Modal -->
    <div class="modal" id="addCatModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Thêm thú cưng mới</h3>
                <button class="modal-close" onclick="closeModal('addCatModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addCatForm">
                    <div class="form-group">
                        <label class="form-label">Tên thú cưng</label>
                        <input type="text" class="form-control" id="catName" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Giống</label>
                            <input type="text" class="form-control" id="catBreed">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tuổi</label>
                            <input type="number" class="form-control" id="catAge" min="0" max="30">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Cân nặng (kg)</label>
                            <input type="number" class="form-control" id="catWeight" step="0.1" min="0.1" max="20">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Giới tính</label>
                            <select class="form-control" id="catGender" required>
                                <option value="">Chọn giới tính</option>
                                <option value="male">Đực</option>
                                <option value="female">Cái</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Màu lông</label>
                        <input type="text" class="form-control" id="catColor">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tình trạng tiêm chủng</label>
                        <select class="form-control" id="catVaccination">
                            <option value="none">Chưa tiêm</option>
                            <option value="partial">Tiêm một phần</option>
                            <option value="up_to_date">Đầy đủ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ghi chú y tế</label>
                        <textarea class="form-control" id="catMedicalNotes" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Yêu cầu đặc biệt</label>
                        <textarea class="form-control" id="catSpecialRequirements" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-save"></i>
                        Thêm thú cưng
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Room Modal (Admin) -->
    <div class="modal" id="addRoomModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Thêm phòng mới</h3>
                <button class="modal-close" onclick="closeModal('addRoomModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addRoomForm">
                    <div class="form-group">
                        <label class="form-label">Tên phòng</label>
                        <input type="text" class="form-control" id="roomName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mô tả</label>
                        <textarea class="form-control" id="roomDescription" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Loại phòng</label>
                            <select class="form-control" id="roomType" required>
                                <option value="">Chọn loại phòng</option>
                                <option value="standard">Standard</option>
                                <option value="deluxe">Deluxe</option>
                                <option value="premium">Premium</option>
                                <option value="vip">VIP</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sức chứa</label>
                            <input type="number" class="form-control" id="roomCapacity" min="1" max="5" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Giá/ngày (VNĐ)</label>
                            <input type="number" class="form-control" id="roomPrice" min="0" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Diện tích (m²)</label>
                            <input type="number" class="form-control" id="roomSize" step="0.1" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tiện nghi (mỗi dòng một tiện nghi)</label>
                        <textarea class="form-control" id="roomAmenities" rows="4" placeholder="Giường mèo cao cấp&#10;Khu vui chơi&#10;Cây leo&#10;Đồ chơi"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-save"></i>
                        Thêm phòng
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Service Modal (Admin) -->
    <div class="modal" id="addServiceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Thêm dịch vụ mới</h3>
                <button class="modal-close" onclick="closeModal('addServiceModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addServiceForm">
                    <div class="form-group">
                        <label class="form-label">Tên dịch vụ</label>
                        <input type="text" class="form-control" id="serviceName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mô tả</label>
                        <textarea class="form-control" id="serviceDescription" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Danh mục</label>
                            <select class="form-control" id="serviceCategory" required>
                                <option value="">Chọn danh mục</option>
                                <option value="grooming">Grooming</option>
                                <option value="medical">Y tế</option>
                                <option value="play">Vui chơi</option>
                                <option value="training">Huấn luyện</option>
                                <option value="special">Đặc biệt</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Giá (VNĐ)</label>
                            <input type="number" class="form-control" id="servicePrice" min="0" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thời gian (phút)</label>
                        <input type="number" class="form-control" id="serviceDuration" min="1">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-save"></i>
                        Thêm dịch vụ
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add News Modal (Admin) -->
    <div class="modal" id="addNewsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Thêm tin tức mới</h3>
                <button class="modal-close" onclick="closeModal('addNewsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addNewsForm">
                    <div class="form-group">
                        <label class="form-label">Tiêu đề</label>
                        <input type="text" class="form-control" id="newsTitle" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Danh mục</label>
                        <select class="form-control" id="newsCategory" required>
                            <option value="">Chọn danh mục</option>
                            <option value="tips">Mẹo hay</option>
                            <option value="health">Sức khỏe</option>
                            <option value="events">Sự kiện</option>
                            <option value="updates">Cập nhật</option>
                            <option value="general">Tổng quát</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tóm tắt</label>
                        <textarea class="form-control" id="newsExcerpt" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nội dung</label>
                        <textarea class="form-control" id="newsContent" rows="8" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="newsPublished"> Xuất bản ngay
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <i class="fas fa-save"></i>
                        Thêm tin tức
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Booking Detail Modal -->
    <div class="modal" id="bookingDetailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Chi tiết đặt phòng</h3>
                <button class="modal-close" onclick="closeModal('bookingDetailModal')">&times;</button>
            </div>
            <div class="modal-body" id="bookingDetailContent">
                <!-- Booking detail content will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let currentRoom = null;
        let selectedServices = [];
        let selectedFoods = [];

        // API Base URL
        const API_BASE = 'http://localhost:5000/api';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthStatus();
            loadHomePage();
            setupEventListeners();
        });

        // Auth functions
        function checkAuthStatus() {
            const token = localStorage.getItem('token');
            if (token) {
                fetch(`${API_BASE}/auth/me`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        currentUser = data.data.user;
                        updateNavigation();
                    } else {
                        localStorage.removeItem('token');
                    }
                })
                .catch(error => {
                    console.error('Auth check error:', error);
                    localStorage.removeItem('token');
                });
            }
        }

        function updateNavigation() {
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');
            const adminLink = document.getElementById('adminLink');

            if (currentUser) {
                loginBtn.style.display = 'none';
                registerBtn.style.display = 'none';
                userMenu.style.display = 'block';
                userName.textContent = currentUser.full_name;
                
                if (currentUser.role === 'admin') {
                    adminLink.style.display = 'block';
                }
            } else {
                loginBtn.style.display = 'inline-flex';
                registerBtn.style.display = 'inline-flex';
                userMenu.style.display = 'none';
                adminLink.style.display = 'none';
            }
        }

        function logout() {
            localStorage.removeItem('token');
            currentUser = null;
            updateNavigation();
            showPage('home');
            showAlert('Đăng xuất thành công!', 'success');
        }

        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Remove active class from nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // Show selected page
            const page = document.getElementById(pageId);
            if (page) {
                page.classList.add('active');
            }

            // Add active class to corresponding nav link
            const navLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (navLink && navLink.classList.contains('nav-link')) {
                navLink.classList.add('active');
            }

            // Load page-specific content
            switch(pageId) {
                case 'home':
                    loadHomePage();
                    break;
                case 'rooms':
                    loadRooms();
                    break;
                case 'services':
                    loadServices();
                    break;
                case 'news':
                    loadNews();
                    break;
                case 'my-cats':
                    if (currentUser) loadMyCats();
                    else showPage('login');
                    break;
                case 'my-bookings':
                    if (currentUser) loadMyBookings();
                    else showPage('login');
                    break;
                case 'profile':
                    if (currentUser) loadProfile();
                    else showPage('login');
                    break;
                case 'admin':
                    if (currentUser && currentUser.role === 'admin') loadAdminDashboard();
                    else showPage('home');
                    break;
            }
        }

        // Event listeners setup
        function setupEventListeners() {
            // Login form
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // Register form
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            
            // Profile form
            document.getElementById('profileForm').addEventListener('submit', handleProfileUpdate);
            
            // Change password form
            document.getElementById('changePasswordForm').addEventListener('submit', handleChangePassword);
            
            // Add cat form
            document.getElementById('addCatForm').addEventListener('submit', handleAddCat);
            
            // Contact form
            document.getElementById('contactForm').addEventListener('submit', handleContact);

            // Admin forms
            document.getElementById('addRoomForm').addEventListener('submit', handleAddRoom);
            document.getElementById('addServiceForm').addEventListener('submit', handleAddService);
            document.getElementById('addNewsForm').addEventListener('submit', handleAddNews);

            // Booking form calculations
            document.getElementById('bookingCheckIn').addEventListener('change', calculateBooking);
            document.getElementById('bookingCheckOut').addEventListener('change', calculateBooking);
        }

        // Authentication handlers
        function handleLogin(e) {
            e.preventDefault();
            showLoading();

            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            fetch(`${API_BASE}/auth/login`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email, password })
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    localStorage.setItem('token', data.data.token);
                    currentUser = data.data.user;
                    updateNavigation();
                    showPage('home');
                    showAlert('Đăng nhập thành công!', 'success');
                } else {
                    showAlert(data.message || 'Đăng nhập thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Login error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function handleRegister(e) {
            e.preventDefault();
            showLoading();

            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;

            if (password !== confirmPassword) {
                hideLoading();
                showAlert('Mật khẩu xác nhận không khớp!', 'error');
                return;
            }

            const userData = {
                username: document.getElementById('registerUsername').value,
                email: document.getElementById('registerEmail').value,
                full_name: document.getElementById('registerFullName').value,
                phone: document.getElementById('registerPhone').value,
                address: document.getElementById('registerAddress').value,
                password: password
            };

            fetch(`${API_BASE}/auth/register`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(userData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    localStorage.setItem('token', data.data.token);
                    currentUser = data.data.user;
                    updateNavigation();
                    showPage('home');
                    showAlert('Đăng ký thành công!', 'success');
                } else {
                    showAlert(data.message || 'Đăng ký thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Register error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        // Load home page content
        function loadHomePage() {
            loadFeaturedRooms();
            loadServicesPreview();
            loadLatestNews();
            loadReviews();
        }

        function loadFeaturedRooms() {
            fetch(`${API_BASE}/rooms?limit=3`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('featuredRooms');
                    container.innerHTML = data.data.rooms.map(room => `
                        <div class="room-card">
                            <div class="room-image">
                                <i class="fas fa-bed"></i>
                            </div>
                            <div class="room-info">
                                <div class="room-type">${getRoomTypeText(room.room_type)}</div>
                                <h3 class="room-name">${room.name}</h3>
                                <div class="room-price">${formatCurrency(room.price_per_day)}/ngày</div>
                                <ul class="room-amenities">
                                    ${room.amenities.slice(0, 3).map(amenity => `
                                        <li><i class="fas fa-check"></i> ${amenity}</li>
                                    `).join('')}
                                </ul>
                                <button class="btn btn-primary" onclick="selectRoom(${room.id})">
                                    <i class="fas fa-eye"></i>
                                    Xem chi tiết
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load featured rooms error:', error));
        }

        function loadServicesPreview() {
            fetch(`${API_BASE}/services?limit=4&active_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('servicesPreview');
                    container.innerHTML = data.data.services.map(service => `
                        <div class="card">
                            <div class="card-body" style="text-align: center;">
                                <div style="font-size: 3rem; color: var(--primary-color); margin-bottom: 1rem;">
                                    ${getServiceIcon(service.category)}
                                </div>
                                <h4>${service.name}</h4>
                                <p style="color: var(--text-light);">${service.description || ''}</p>
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">
                                    ${formatCurrency(service.price)}
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load services preview error:', error));
        }

        function loadLatestNews() {
            fetch(`${API_BASE}/news?limit=2&published_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('latestNews');
                    container.innerHTML = data.data.news.map(article => `
                        <div class="news-card">
                            <div class="news-image">
                                <i class="fas fa-newspaper"></i>
                            </div>
                            <div class="news-content">
                                <div class="news-category">${getCategoryText(article.category)}</div>
                                <h3 class="news-title">${article.title}</h3>
                                <p class="news-excerpt">${article.excerpt || ''}</p>
                                <div class="news-meta">
                                    <i class="fas fa-user"></i> ${article.author_name} •
                                    <i class="fas fa-eye"></i> ${article.views} lượt xem
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load latest news error:', error));
        }

        function loadReviews() {
            fetch(`${API_BASE}/reviews?limit=3&approved_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('reviewsSection');
                    container.innerHTML = data.data.reviews.map(review => `
                        <div class="card">
                            <div class="card-body">
                                <div style="text-align: center; margin-bottom: 1rem;">
                                    <div style="color: var(--warm-color); font-size: 1.5rem;">
                                        ${'⭐'.repeat(review.rating)}
                                    </div>
                                </div>
                                <p style="font-style: italic; margin-bottom: 1rem;">"${review.comment}"</p>
                                <div style="text-align: center;">
                                    <strong>${review.customer_name}</strong><br>
                                    <small style="color: var(--text-light);">Phòng: ${review.room_name}</small>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load reviews error:', error));
        }

        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(amount);
        }

        function getRoomTypeText(type) {
            const types = {
                'standard': 'Tiêu chuẩn',
                'deluxe': 'Cao cấp',
                'premium': 'Hạng sang',
                'vip': 'VIP'
            };
            return types[type] || type;
        }

        function getServiceIcon(category) {
            const icons = {
                'grooming': '<i class="fas fa-cut"></i>',
                'medical': '<i class="fas fa-heartbeat"></i>',
                'play': '<i class="fas fa-gamepad"></i>',
                'training': '<i class="fas fa-graduation-cap"></i>',
                'special': '<i class="fas fa-star"></i>'
            };
            return icons[category] || '<i class="fas fa-concierge-bell"></i>';
        }

        function getCategoryText(category) {
            const categories = {
                'tips': 'Mẹo hay',
                'health': 'Sức khỏe',
                'events': 'Sự kiện',
                'updates': 'Cập nhật',
                'general': 'Tổng quát'
            };
            return categories[category] || category;
        }

        function showAlert(message, type = 'info') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            document.body.insertBefore(alertDiv, document.body.firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        function showLoading() {
            document.getElementById('loading').classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loading').classList.remove('active');
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Modal functions
        function showAddCatModal() {
            showModal('addCatModal');
        }

        function showAddRoomModal() {
            showModal('addRoomModal');
        }

        function showAddServiceModal() {
            showModal('addServiceModal');
        }

        function showAddNewsModal() {
            showModal('addNewsModal');
        }

        // Cat management
        function handleAddCat(e) {
            e.preventDefault();
            showLoading();

            const catData = {
                name: document.getElementById('catName').value,
                breed: document.getElementById('catBreed').value,
                age: parseInt(document.getElementById('catAge').value) || null,
                weight: parseFloat(document.getElementById('catWeight').value) || null,
                gender: document.getElementById('catGender').value,
                color: document.getElementById('catColor').value,
                vaccination_status: document.getElementById('catVaccination').value,
                medical_notes: document.getElementById('catMedicalNotes').value,
                special_requirements: document.getElementById('catSpecialRequirements').value
            };

            fetch(`${API_BASE}/cats`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(catData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    closeModal('addCatModal');
                    loadMyCats();
                    showAlert('Thêm thú cưng thành công!', 'success');
                    document.getElementById('addCatForm').reset();
                } else {
                    showAlert(data.message || 'Thêm thú cưng thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Add cat error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function loadMyCats() {
            fetch(`${API_BASE}/cats`, {
                headers: {
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('myCatsList');
                    if (data.data.cats.length === 0) {
                        container.innerHTML = `
                            <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                                <div style="font-size: 4rem; color: var(--text-light); margin-bottom: 1rem;">🐱</div>
                                <h3>Bạn chưa có thú cưng nào</h3>
                                <p>Hãy thêm thú cưng đầu tiên của bạn!</p>
                                <button class="btn btn-primary" onclick="showAddCatModal()">
                            <i class="fas fa-plus"></i>
                            Thêm thú cưng
                        </button>
                    </div>
                `;
            } else {
                container.innerHTML = data.data.cats.map(cat => `
                            <div class="cat-card">
                                <div class="cat-avatar">
                                    🐱
                                </div>
                                <h3>${cat.name}</h3>
                                <p><strong>Giống:</strong> ${cat.breed || 'Không rõ'}</p>
                                <p><strong>Tuổi:</strong> ${cat.age || 'Không rõ'} tuổi</p>
                                <p><strong>Giới tính:</strong> ${cat.gender === 'male' ? 'Đực' : 'Cái'}</p>
                                <p><strong>Cân nặng:</strong> ${cat.weight || 'Không rõ'} kg</p>
                                <div style="margin-top: 1rem;">
                                    <button class="btn btn-outline" onclick="editCat(${cat.id})">
                                        <i class="fas fa-edit"></i>
                                        Sửa
                                    </button>
                                    <button class="btn btn-outline" onclick="deleteCat(${cat.id})" style="color: var(--danger-color); border-color: var(--danger-color);">
                                        <i class="fas fa-trash"></i>
                                        Xóa
                                    </button>
                                </div>
                            </div>
                        `).join('');
                    }
                }
            })
            .catch(error => console.error('Load cats error:', error));
        }

        // Room management
        function loadRooms() {
            let url = `${API_BASE}/rooms?limit=12`;
            
            const roomType = document.getElementById('roomTypeFilter')?.value;
            const maxPrice = document.getElementById('priceFilter')?.value;
            const checkIn = document.getElementById('checkInDate')?.value;
            const checkOut = document.getElementById('checkOutDate')?.value;

            if (roomType) url += `&room_type=${roomType}`;
            if (maxPrice) url += `&max_price=${maxPrice}`;
            if (checkIn) url += `&check_in=${checkIn}`;
            if (checkOut) url += `&check_out=${checkOut}`;

            fetch(url)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('roomsList');
                    container.innerHTML = data.data.rooms.map(room => `
                        <div class="room-card">
                            <div class="room-image">
                                <i class="fas fa-bed"></i>
                            </div>
                            <div class="room-info">
                                <div class="room-type">${getRoomTypeText(room.room_type)}</div>
                                <h3 class="room-name">${room.name}</h3>
                                <p style="color: var(--text-light); margin-bottom: 1rem;">${room.description || ''}</p>
                                <div class="room-price">${formatCurrency(room.price_per_day)}/ngày</div>
                                <ul class="room-amenities">
                                    ${room.amenities.slice(0, 4).map(amenity => `
                                        <li><i class="fas fa-check"></i> ${amenity}</li>
                                    `).join('')}
                                </ul>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="btn btn-outline" onclick="viewRoomDetail(${room.id})">
                                        <i class="fas fa-eye"></i>
                                        Chi tiết
                                    </button>
                                    <button class="btn btn-primary" onclick="selectRoom(${room.id})">
                                        <i class="fas fa-calendar-plus"></i>
                                        Đặt phòng
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load rooms error:', error));
        }

        function selectRoom(roomId) {
            if (!currentUser) {
                showPage('login');
                showAlert('Vui lòng đăng nhập để đặt phòng!', 'warning');
                return;
            }

            fetch(`${API_BASE}/rooms/${roomId}`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    currentRoom = data.data.room;
                    document.getElementById('selectedRoom').value = currentRoom.name;
                    loadBookingData();
                    showPage('booking');
                }
            })
            .catch(error => console.error('Select room error:', error));
        }

        function loadServices() {
            fetch(`${API_BASE}/services?active_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('servicesList');
                    const groupedServices = data.data.services.reduce((groups, service) => {
                        const category = service.category;
                        if (!groups[category]) groups[category] = [];
                        groups[category].push(service);
                        return groups;
                    }, {});

                    container.innerHTML = Object.keys(groupedServices).map(category => `
                        <div class="card">
                            <div class="card-header">
                                <h3>${getCategoryText(category)} ${getServiceIcon(category)}</h3>
                            </div>
                            <div class="card-body">
                                ${groupedServices[category].map(service => `
                                    <div style="border-bottom: 1px solid #eee; padding: 1rem 0;">
                                        <div style="display: flex; justify-content: space-between; align-items: start;">
                                            <div>
                                                <h4>${service.name}</h4>
                                                <p style="color: var(--text-light); margin: 0.5rem 0;">${service.description || ''}</p>
                                                ${service.duration_minutes ? `<small style="color: var(--text-light);">Thời gian: ${service.duration_minutes} phút</small>` : ''}
                                            </div>
                                            <div style="text-align: right;">
                                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">
                                                    ${formatCurrency(service.price)}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load services error:', error));
        }

        function loadNews() {
            fetch(`${API_BASE}/news?published_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('newsList');
                    container.innerHTML = data.data.news.map(article => `
                        <div class="news-card">
                            <div class="news-image">
                                <i class="fas fa-newspaper"></i>
                            </div>
                            <div class="news-content">
                                <div class="news-category">${getCategoryText(article.category)}</div>
                                <h3 class="news-title">${article.title}</h3>
                                <p class="news-excerpt">${article.excerpt || ''}</p>
                                <div class="news-meta" style="margin-bottom: 1rem;">
                                    <i class="fas fa-user"></i> ${article.author_name} •
                                    <i class="fas fa-calendar"></i> ${formatDate(article.published_at)} •
                                    <i class="fas fa-eye"></i> ${article.views} lượt xem
                                </div>
                                <button class="btn btn-outline" onclick="viewNewsDetail('${article.slug}')">
                                    <i class="fas fa-book-open"></i>
                                    Đọc thêm
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            })
            .catch(error => console.error('Load news error:', error));
        }

        function loadBookingData() {
            // Load user's cats for booking
            fetch(`${API_BASE}/cats`, {
                headers: {
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const select = document.getElementById('bookingCat');
                    select.innerHTML = '<option value="">Chọn thú cưng</option>' + 
                        data.data.cats.map(cat => `
                            <option value="${cat.id}">${cat.name} (${cat.breed || 'Không rõ'})</option>
                        `).join('');
                }
            });

            // Load services for booking
            fetch(`${API_BASE}/services?active_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('servicesList');
                    container.innerHTML = data.data.services.map(service => `
                        <div style="margin-bottom: 1rem;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" value="${service.id}" onchange="updateServiceSelection(this, ${service.price})">
                                <span style="margin-left: 0.5rem;">
                                    ${service.name} - ${formatCurrency(service.price)}
                                    ${service.description ? `<br><small style="color: var(--text-light);">${service.description}</small>` : ''}
                                </span>
                            </label>
                        </div>
                    `).join('');
                }
            });

            // Load foods for booking
            fetch(`${API_BASE}/foods?active_only=true`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('foodsList');
                    container.innerHTML = data.data.foods.map(food => `
                        <div style="margin-bottom: 1rem;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" value="${food.id}" onchange="updateFoodSelection(this, ${food.price_per_serving})">
                                <span style="margin-left: 0.5rem;">
                                    ${food.name} (${food.brand || ''}) - ${formatCurrency(food.price_per_serving)}/phần
                                    ${food.description ? `<br><small style="color: var(--text-light);">${food.description}</small>` : ''}
                                </span>
                            </label>
                        </div>
                    `).join('');
                }
            });
        }

        function updateServiceSelection(checkbox, price) {
            if (checkbox.checked) {
                selectedServices.push({ id: parseInt(checkbox.value), price: price });
            } else {
                selectedServices = selectedServices.filter(s => s.id !== parseInt(checkbox.value));
            }
            calculateBooking();
        }

        function updateFoodSelection(checkbox, price) {
            if (checkbox.checked) {
                selectedFoods.push({ id: parseInt(checkbox.value), price: price });
            } else {
                selectedFoods = selectedFoods.filter(f => f.id !== parseInt(checkbox.value));
            }
            calculateBooking();
        }

        function calculateBooking() {
            const checkIn = document.getElementById('bookingCheckIn').value;
            const checkOut = document.getElementById('bookingCheckOut').value;

            if (!checkIn || !checkOut || !currentRoom) return;

            const checkInDate = new Date(checkIn);
            const checkOutDate = new Date(checkOut);
            const days = Math.ceil((checkOutDate - checkInDate) / (1000 * 60 * 60 * 24));

            if (days <= 0) return;

            const roomPrice = currentRoom.price_per_day * days;
            const servicesPrice = selectedServices.reduce((total, service) => total + service.price, 0);
            const foodsPrice = selectedFoods.reduce((total, food) => total + food.price, 0) * days;
            const totalPrice = roomPrice + servicesPrice + foodsPrice;

            document.getElementById('summaryRoom').textContent = currentRoom.name;
            document.getElementById('summaryDays').textContent = days;
            document.getElementById('summaryRoomPrice').textContent = formatCurrency(roomPrice);
            document.getElementById('summaryServices').textContent = formatCurrency(servicesPrice);
            document.getElementById('summaryFood').textContent = formatCurrency(foodsPrice);
            document.getElementById('summaryTotal').textContent = formatCurrency(totalPrice);
        }

        function submitBooking() {
            const catId = document.getElementById('bookingCat').value;
            const checkIn = document.getElementById('bookingCheckIn').value;
            const checkOut = document.getElementById('bookingCheckOut').value;
            const specialRequests = document.getElementById('specialRequests').value;

            if (!catId || !checkIn || !checkOut) {
                showAlert('Vui lòng điền đầy đủ thông tin!', 'warning');
                return;
            }

            showLoading();

            const bookingData = {
                cat_id: parseInt(catId),
                room_id: currentRoom.id,
                check_in_date: checkIn,
                check_out_date: checkOut,
                services: selectedServices.map(s => ({ service_id: s.id, quantity: 1 })),
                foods: selectedFoods.map(f => ({ 
                    food_id: f.id, 
                    quantity: 1, 
                    feeding_date: checkIn,
                    meal_time: 'breakfast'
                })),
                special_requests: specialRequests
            };

            fetch(`${API_BASE}/bookings`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(bookingData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    showAlert('Đặt phòng thành công!', 'success');
                    showPage('my-bookings');
                } else {
                    showAlert(data.message || 'Đặt phòng thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Submit booking error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function loadMyBookings() {
            fetch(`${API_BASE}/bookings`, {
                headers: {
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const tbody = document.getElementById('myBookingsList');
                    tbody.innerHTML = data.data.bookings.map(booking => `
                        <tr>
                            <td>#${booking.id}</td>
                            <td>${booking.cat_name}</td>
                            <td>${booking.room_name}</td>
                            <td>${formatDate(booking.check_in_date)} - ${formatDate(booking.check_out_date)}</td>
                            <td>${formatCurrency(booking.total_price)}</td>
                            <td>
                                <span class="status status-${booking.status}">
                                    ${getStatusText(booking.status)}
                                </span>
                            </td>
                            <td>
                                <button class="btn btn-outline" onclick="viewBookingDetail(${booking.id})">
                                    <i class="fas fa-eye"></i>
                                    Chi tiết
                                </button>
                            </td>
                        </tr>
                    `).join('');
                }
            })
            .catch(error => console.error('Load bookings error:', error));
        }

        function loadProfile() {
            document.getElementById('profileName').textContent = currentUser.full_name;
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('profileFullName').value = currentUser.full_name || '';
            document.getElementById('profilePhone').value = currentUser.phone || '';
            document.getElementById('profileAddress').value = currentUser.address || '';
        }

        function handleProfileUpdate(e) {
            e.preventDefault();
            showLoading();

            const profileData = {
                full_name: document.getElementById('profileFullName').value,
                phone: document.getElementById('profilePhone').value,
                address: document.getElementById('profileAddress').value
            };

            fetch(`${API_BASE}/auth/profile`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(profileData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    currentUser = data.data.user;
                    updateNavigation();
                    showAlert('Cập nhật thông tin thành công!', 'success');
                } else {
                    showAlert(data.message || 'Cập nhật thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Update profile error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function handleChangePassword(e) {
            e.preventDefault();
            
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;

            if (newPassword !== confirmPassword) {
                showAlert('Mật khẩu mới không khớp!', 'error');
                return;
            }

            showLoading();

            const passwordData = {
                current_password: document.getElementById('currentPassword').value,
                new_password: newPassword
            };

            fetch(`${API_BASE}/auth/change-password`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(passwordData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    showAlert('Đổi mật khẩu thành công!', 'success');
                    document.getElementById('changePasswordForm').reset();
                } else {
                    showAlert(data.message || 'Đổi mật khẩu thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Change password error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function handleContact(e) {
            e.preventDefault();
            showAlert('Cảm ơn bạn đã liên hệ! Chúng tôi sẽ phản hồi sớm nhất.', 'success');
            e.target.reset();
        }

        // Admin functions
        function loadAdminDashboard() {
            loadAdminStats();
            loadAdminBookings();
        }

        function loadAdminStats() {
            fetch(`${API_BASE}/dashboard/overview`, {
                headers: {
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const stats = data.data.overview;
                    document.getElementById('totalCustomers').textContent = stats.total_customers;
                    document.getElementById('totalCats').textContent = stats.total_cats;
                    document.getElementById('totalRooms').textContent = stats.total_rooms;
                    document.getElementById('totalBookings').textContent = stats.total_bookings;
                    document.getElementById('pendingBookings').textContent = stats.pending_bookings;
                    document.getElementById('totalRevenue').textContent = formatCurrency(stats.total_revenue);
                }
            })
            .catch(error => console.error('Load admin stats error:', error));
        }

        function showAdminTab(tabName) {
            // Hide all admin content
            document.querySelectorAll('.admin-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('btn-outline');
                tab.classList.remove('btn-primary');
            });

            // Show selected content
            document.getElementById(`admin-${tabName}`).classList.add('active');

            // Add active class to selected tab
            event.target.classList.add('active');
            event.target.classList.remove('btn-outline');
            event.target.classList.add('btn-primary');

            // Load content based on tab
            switch(tabName) {
                case 'bookings':
                    loadAdminBookings();
                    break;
                case 'rooms':
                    loadAdminRooms();
                    break;
                case 'services':
                    loadAdminServices();
                    break;
                case 'users':
                    loadAdminUsers();
                    break;
                case 'news':
                    loadAdminNews();
                    break;
            }
        }

        function loadAdminBookings() {
            fetch(`${API_BASE}/bookings`, {
                headers: {
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const tbody = document.getElementById('adminBookingsList');
                    tbody.innerHTML = data.data.bookings.map(booking => `
                        <tr>
                            <td>#${booking.id}</td>
                            <td>${booking.customer_name}</td>
                            <td>${booking.cat_name}</td>
                            <td>${booking.room_name}</td>
                            <td>${formatDate(booking.check_in_date)} - ${formatDate(booking.check_out_date)}</td>
                            <td>${formatCurrency(booking.total_price)}</td>
                            <td>
                                <span class="status status-${booking.status}">
                                    ${getStatusText(booking.status)}
                                </span>
                            </td>
                            <td>
                                <button class="btn btn-outline" onclick="updateBookingStatus(${booking.id}, 'confirmed')">
                                    Xác nhận
                                </button>
                            </td>
                        </tr>
                    `).join('');
                }
            })
            .catch(error => console.error('Load admin bookings error:', error));
        }

        function handleAddRoom(e) {
            e.preventDefault();
            showLoading();

            const amenitiesText = document.getElementById('roomAmenities').value;
            const amenities = amenitiesText.split('\n').filter(a => a.trim());

            const roomData = {
                name: document.getElementById('roomName').value,
                description: document.getElementById('roomDescription').value,
                room_type: document.getElementById('roomType').value,
                capacity: parseInt(document.getElementById('roomCapacity').value),
                price_per_day: parseFloat(document.getElementById('roomPrice').value),
                size_sqm: parseFloat(document.getElementById('roomSize').value) || null,
                amenities: amenities
            };

            fetch(`${API_BASE}/rooms`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(roomData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    closeModal('addRoomModal');
                    loadAdminRooms();
                    showAlert('Thêm phòng thành công!', 'success');
                    document.getElementById('addRoomForm').reset();
                } else {
                    showAlert(data.message || 'Thêm phòng thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Add room error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function handleAddService(e) {
            e.preventDefault();
            showLoading();

            const serviceData = {
                name: document.getElementById('serviceName').value,
                description: document.getElementById('serviceDescription').value,
                category: document.getElementById('serviceCategory').value,
                price: parseFloat(document.getElementById('servicePrice').value),
                duration_minutes: parseInt(document.getElementById('serviceDuration').value) || null
            };

            fetch(`${API_BASE}/services`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(serviceData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    closeModal('addServiceModal');
                    loadAdminServices();
                    showAlert('Thêm dịch vụ thành công!', 'success');
                    document.getElementById('addServiceForm').reset();
                } else {
                    showAlert(data.message || 'Thêm dịch vụ thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Add service error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        function handleAddNews(e) {
            e.preventDefault();
            showLoading();

            const newsData = {
                title: document.getElementById('newsTitle').value,
                category: document.getElementById('newsCategory').value,
                excerpt: document.getElementById('newsExcerpt').value,
                content: document.getElementById('newsContent').value,
                is_published: document.getElementById('newsPublished').checked
            };

            fetch(`${API_BASE}/news`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
                body: JSON.stringify(newsData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoading();
                if (data.success) {
                    closeModal('addNewsModal');
                    loadAdminNews();
                    showAlert('Thêm tin tức thành công!', 'success');
                    document.getElementById('addNewsForm').reset();
                } else {
                    showAlert(data.message || 'Thêm tin tức thất bại!', 'error');
                }
            })
            .catch(error => {
                hideLoading();
                console.error('Add news error:', error);
                showAlert('Lỗi kết nối!', 'error');
            });
        }

        // Utility functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN');
        }

        function getStatusText(status) {
            const statuses = {
                'pending': 'Chờ xử lý',
                'confirmed': 'Đã xác nhận',
                'checked_in': 'Đã nhận phòng',
                'checked_out': 'Đã trả phòng',
                'cancelled': 'Đã hủy'
            };
            return statuses[status] || status;
        }

        function filterRooms() {
            loadRooms();
        }

        function toggleUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('userDropdown');
            const userMenu = document.getElementById('userMenu');
            
            if (dropdown && userMenu && !userMenu.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });

        // CSS for dropdown menu
        const dropdownStyle = document.createElement('style');
        dropdownStyle.textContent = `
            .dropdown {
                position: relative;
            }
            .dropdown-menu {
                display: none;
                position: absolute;
                top: 100%;
                right: 0;
                background: white;
                border: 1px solid #ddd;
                border-radius: var(--border-radius);
                box-shadow: var(--shadow-medium);
                min-width: 150px;
                z-index: 1000;
            }
            .dropdown-menu a {
                display: block;
                padding: 0.5rem 1rem;
                color: var(--text-dark);
                text-decoration: none;
                border-bottom: 1px solid #eee;
            }
            .dropdown-menu a:hover {
                background: var(--light-color);
            }
            .dropdown-menu a:last-child {
                border-bottom: none;
            }
            .admin-content {
                display: none;
            }
            .admin-content.active {
                display: block;
            }
        `;
        document.head.appendChild(dropdownStyle);
    </script>
</body>
</html>